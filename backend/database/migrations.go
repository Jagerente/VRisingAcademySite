package database

var (
	migrations [][]string = [][]string{
		[]string{
			`CREATE TABLE spellschools (
				id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
	            name VARCHAR(128) NOT NULL,
	            description VARCHAR(512));`,
			`CREATE TABLE spelltypes (
				id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
				title VARCHAR(128) NOT NULL);`,
			`CREATE TABLE spells (
				id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
	            name VARCHAR(128) NOT NULL,
	            description VARCHAR(512),
				schoolId INTEGER NOT NULL REFERENCES spellschools(id) ON DELETE SET NULL,
				typeId INTEGER NOT NULL REFERENCES spelltypes(id) ON DELETE SET NULL,
				cooldown DOUBLE PRECISION NOT NULL,
				casttime DOUBLE PRECISION NOT NULL,	
				charges INTEGER NOT NULL DEFAULT 1);`},
		[]string{
			`CREATE TABLE knowledges (id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY);`,
			`CREATE TABLE quests (
				id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
				name VARCHAR(128) NOT NULL,
				description VARCHAR(512) NOT NULL,
				goals text[] NOT NULL,
				knowledgeId INTEGER NOT NULL REFERENCES knowledges(id));`,
			`CREATE TABLE stationknowledges (
				stationId INTEGER NOT NULL REFERENCES stations(id) ON DELETE CASCADE,
				knowledgeId INTEGER NOT NULL REFERENCES knowledges(id) ON DELETE CASCADE);`,
			`ALTER TABLE spells
			ADD knowledgeId INTEGER NULL REFERENCES knowledges(id) ON DELETE CASCADE;`,
			`ALTER TABLE recipes
			ADD knowledgeId INTEGER NULL REFERENCES knowledges(id) ON DELETE CASCADE;`},
		[]string{
			`CREATE TABLE structurevariants (
				structureid INTEGER NOT NULL REFERENCES items(id) ON DELETE CASCADE,
				variantid INTEGER NOT NULL REFERENCES items(id) ON DELETE CASCADE);`}}
)
